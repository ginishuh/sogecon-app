# API 환경변수 (로컬 개발)

# 데이터베이스 연결 (둘 중 하나 선택)
# 1) Postgres(Docker 사용; 개발 기본: 5433)
DATABASE_URL=postgresql+psycopg://app:devpass@localhost:5433/appdb
# 2) SQLite(옵션): 별도 의존성 없이 바로 실행
# DATABASE_URL=sqlite:///./dev.sqlite3

# 앱 실행 환경
APP_ENV=dev

# JWT 시크릿(개발 기본값 — 운영 시 시크릿 매니저 사용)
JWT_SECRET=change-me

# CORS 허용 오리진(개발 환경 기본값)
CORS_ORIGINS=http://localhost:3000

# Web(Next.js)에서 API 베이스 URL
# apps/web/lib/api.ts는 NEXT_PUBLIC_WEB_API_BASE를 사용합니다.
NEXT_PUBLIC_WEB_API_BASE=http://localhost:3001
NEXT_PUBLIC_VAPID_PUBLIC_KEY=

# Notifications (Web Push)
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:security@trr.co.kr

# Rate limiting (per-IP)
RATE_LIMIT_DEFAULT=120/minute

# 테스트 설정(선택): 기본은 SQLite, Postgres로 테스트하려면 아래 값 설정
# TEST_DB=pg
# TEST_DB_URL=postgresql+psycopg://app:devpass@localhost:5434/appdb_test
# # 보호장치 해제(특수 케이스): 테스트 DB명이 'test'를 포함하지 않아도 실행하려면
# # TEST_DB_FORCE=1
