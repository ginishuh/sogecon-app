# 2026-02-20

- Added: 관리자 승인 후 활성화 토큰·링크·안내문구 원클릭 복사 UX (#129)
- Added: buildActivationUrl, buildActivationMessage 유틸 및 단위 테스트 6건
- Changed: ApproveTokenCard 3종 복사 버튼으로 확장, 페이지 헤더 설명 갱신
- Changed: CI web audit를 `--prod` 범위로 제한하고 GHSA-3ppc-4f35-3m26 임시 예외 적용(#131 추적)
- Fixed: 테스트 간 로그인 레이트리밋 누적으로 인한 간헐적 401 실패를 `tests/api/conftest.py` limiter reset fixture로 안정화(PR #130)
- Changed: 서비스 DTO 11개 파일의 수동 타입을 OpenAPI 생성 스키마(Schema<K> 헬퍼)로 전환 (#126)
- Fixed: 리뷰 반영 — CreatePostPayload에서 view_count 제외, CommentCreate에서 author_id 차단
- Changed: #131 임시 예외 정리 — CI web audit에서 `--ignore GHSA-3ppc-4f35-3m26` 제거(계속 `--prod` 기준)
- Changed: 운영 관리자 bootstrap 시드 계정을 `admin001`에서 `s47053`로 통일하고 관련 테스트 기대값 갱신
- Added: `members.phone` 유니크 인덱스 마이그레이션(`c7f4e2a9d1b3`)과 중복 전화번호 충돌 코드(`member_phone_already_in_use`) 적용
- Test: 프로필 수정/회원 생성의 전화번호 중복 충돌(409) 회귀 테스트 추가 및 관련 API 테스트 26건 통과
- Changed: GitHub CD 워크플로우(`build-push`,`deploy`,`web-standalone-*`) 제거, 배포 기본 경로를 VPS 로컬 빌드(`deploy-vps --local-build`)로 전환하고 운영 문서 일괄 동기화
- Fix: PR #134 리뷰 반영 — 전화번호 유니크 마이그레이션에 기존 중복/공백 phone 정리 로직 추가 후 인덱스 생성
- Fix: `members_service`에 `IntegrityError -> 409(member_phone_already_in_use)` 변환을 추가해 동시성 레이스에서도 500 전파 차단
- Test: 프로필/회원 API에 `IntegrityError` 매핑 케이스와 빈 문자열 phone 정규화 케이스 추가(29 passed)
