# 계획서 — 2025-10-07 (M3 잔여 + 다음 단계)

## 배경 / SSOT 정합성
- 본 계획은 프로젝트 SSOT인 `docs/Project_overview.md`(IA/목적)와 현재 코드 상태를 기준으로, M3 잔여 과제와 A/B/C 영역의 1차 도달 목표를 정의합니다.
- 현재 정합성: 인증·행사·알림(푸시) 1차 완성, 수첩/소개/내정보/활성화/문의는 후속 필요.

## 목표(이번 사이클)
1) M3-4 마감 — Web Push 보강(암호화/정리/지표) 안정화 및 문서화
2) A-2/A-3/A-4 최소기능 제공 — 회원활성화/비번변경/관리자 문의
3) B “내 정보” 1차 — 표시용 생일(양/음) 포함, 공개범위 토글
4) C 수첩 스켈레톤 — 목록/검색/필터 프레임 + 상세 뼈대

## 산출물(DoD)
- M3-4
  - [x] at-rest 암호화 옵션(AES-GCM), `endpoint_hash` 조회/삭제, 통계 `encryption_enabled`
  - [x] 관리자 `prune-logs` + 테스트(23 passed)
  - [x] 문서 보강(`pwa_push.md`, `security_hardening.md`, `architecture.md`)
- A-2/3/4
  - [ ] 회원활성화 `/auth/member/activate`(학번/키/토큰) + 비밀번호 즉시 설정
  - [ ] 비밀번호 변경 `/auth/member/change-password`
  - [ ] 관리자 문의 `/support/contact`(메일 발송 모의 구현)
  - [ ] 테스트(성공/실패/레이트리밋)
- B 내 정보 v1
  - [ ] `/me` 상세 조회/수정(표시용 생일/음력/연락처/공개범위 토글)
  - [ ] 프런트 편집 화면 + 성공/검증 에러 UX
  - [ ] 테스트(권한/검증)
- C 수첩 v0
  - [ ] 목록/검색/필터(기수/업종/전공/지역) 프레임, 무한스크롤 스텁
  - [ ] 상세 뼈대(전화/문자/메일 버튼은 정책에 따라 비활성 또는 링크)
  - [ ] 테스트(200/필터 쿼리 검증)

## 작업 순서(브랜치/PR)
1) feat/m3-webpush-crypto (#7) — 문서/코드 피드백 반영 → Ready
2) feat/a2-activate-a3-change-pass-a4-contact — 활성화/비번/문의 일괄 PR(작게 나눌 수 있음)
3) feat/b-profile-v1 — “내 정보” 1차 편집
4) feat/c-directory-skeleton — 수첩 스켈레톤

## 위험/의존성
- 학번 기반 인증(SSOT) ↔ 현재 이메일 기반 멤버 인증: 활성화 흐름에서 학번→이메일 매핑 정책 필요
- 메일 발송 인프라(문의/활성화 토큰): 개발 단계에선 콘솔/파일 아웃박스로 대체
- 개인정보/공개범위 정책: B 영역 설계 시 SSOT와 정책 합의 필요

## 측정/검증
- 테스트 수: 23 → 28+ (A/B/C 추가)
- 빌드/린트/타입 검사 CI 그린
- 문서: 변경 반영(`architecture.md` 정합성 표 유지)

